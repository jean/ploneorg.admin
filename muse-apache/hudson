<VirtualHost *:80>

    ServerAdmin admins@plone.org
    ServerName hudson.plone.org

    DocumentRoot /var/www

    ErrorLog /var/log/apache2/hudson-error.log

    # Possible values include: debug, info, notice, warn, error, crit,
    # alert, emerg.
    LogLevel warn

    CustomLog /var/log/apache2/hudson-access.log combined

    ProxyPass         /        http://localhost:8080/
    ProxyPassReverse  /        http://localhost:8080/
    ProxyRequests     Off

    <Proxy http://localhost:8080/*>
      Order deny,allow
      Allow from all
    </Proxy>

    <Location />
        AuthBasicProvider ldap
        AuthType    Basic
        AuthName    "plone.org hudson ci"
        AuthLDAPUrl ldap://plone.org:389/ou=People,dc=plone,dc=org?uid NONE
        AuthLDAPGroupAttributeIsDN on
        AuthLDAPGroupAttribute  uniquemember
        AuthzLDAPAuthoritative off
        require ldap-group cn=Committers,ou=Groups,dc=plone,dc=org
    </Location>

</VirtualHost>
